<!DOCTYPE html>
<html>

<head>
  <!--create title shown in tab; not the same as header on webpage-->
  <title>Neuroaesthetics_Cinema_Study</title>
  <!--load the jsPsych library; set src to own path-->
  <script src="jspsych/jspsych.js"></script>

  <!--Load all necessary plugins-->
  <script src="jspsych/plugins/plugin-html-keyboard-response.js"></script>
  <script src="jspsych/plugins/plugin-html-button-response.js"></script>
  <script src="jspsych/plugins/plugin-fullscreen.js"></script>
  <script src="jspsych/plugins/plugin-survey-text.js"></script>
  <script src="jspsych/plugins/plugin-preload.js"></script>
  <script src="jspsych/plugins/plugin-image-keyboard-response.js"></script>
  <script src="jspsych/plugins/plugin-video-keyboard-response.js"></script>
  <script src="jspsych/plugins/plugin-survey-multi-choice.js"></script>
  <script src="jspsych/plugins/plugin-browser-check.js"></script>
  <script src="jspsych/plugins/plugin-survey-likert.js"></script>
  <script src="jspsych/plugins/plugin-video-button-response.js"></script>
  <script src="jspsych/plugins/plugin-image-button-response.js"></script>
  <script src="jspsych/plugins/plugin-external-html.js"></script>
  <script src="https://unpkg.com/@jspsych/plugin-survey@1.0.1"></script>
  <script src="https://unpkg.com/@jspsych/plugin-survey@1.0.1"></script>
  <link rel="stylesheet" href="https://unpkg.com/@jspsych/plugin-survey@1.0.1/css/survey.css" />

  <!--Load Stimuli and custom plugins-->
  <script src="https://realitybending.github.io/JSmisc/misc/utils.js"></script>
  <script src="jspsych/plugins/plugin-survey-multi-choice.js"></script>
  <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe@0.4.0"></script>


  <!-- Default CSS -->
  <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />
  <!--<script type="text/javascript" src="lib/vendors/jquery-2.2.0.min.js"></script>-->
  <style>
    #jspsych-image-keyboard-response-stimulus {
      /*adjust image stimuli params to fit screen*/
      height: auto;
      width: 55%;
    }

    body {
      /*Hide scrollbar while keeping it functional */
      overflow-y: scroll;
      overflow-x: flow;
    }

    Body::-webkit-scrollbar {
      display: none;
    }

    /* set canvas to be full screen */
    .jspsych-content {
      max-width: 100%;
    }
  </style>
</head>

<body></body>

<script>

  // OSF link and data pipe create projects and link
  /* Initialize jsPsych ================================================================*/
  var jsPsych = initJsPsych({
    show_progress_bar: true,
    message_progress_bar: "Completion",
    // on_finish: function () { 
    // jsPsych.data.displayData("json") 
    // jsPsych.data 
    // .get() 
    // .localSave( 
    // "json", 
    // `${jsPsych.data.get().values()[0]["participant_id"] 
    // }_FF.json` 
    // ) 
    // window.location = "https://app.prolific.co/submissions/complete?cc=XXXXX" /* redirect to prolific when experiment is finished */ 
    // }, 
  })

  var timeline = []
  participant_ID = jsPsych.randomization.randomID(10)

  /* Initialize Experiment =============================================================*/
  // Fullscreen Mode 
  timeline.push({
    type: jsPsychFullscreen,
    fullscreen_mode: true,
  })

  // Preload Stimuli  
  timeline.push({
    type: jsPsychHtmlKeyboardResponse,
    stimulus: "<p>Please wait for the experiment to load...</p>",
    choices: "NO_KEYS",
    trial_duration: 1000,
    data: { screen: "stimuli_loading" },
  })
  // Retrieve and save browser info 
  var browser_check = {
    type: jsPsychBrowserCheck,
    data: {
      screen: "browser_info",
      version: "1.0",
      date: new Date().toLocaleDateString("fr-FR"),
      time: new Date().toLocaleTimeString("fr-FR"),
    },
    on_finish: function () {
      data = jsPsych.data
        .get()
        .filter({ screen: "browser_info" })
        .values()[0]
      jsPsych.data.addProperties({
        ["screen_height"]: data["height"],
        ["screen_width"]: data["width"],
      })
      for (var key in data) {
        if (
          [
            "vsync_rate",
            "os",
            "mobile",
            "browser",
            "browser_version",
          ].includes(key)
        ) {
          jsPsych.data.addProperties({
            [key]: data[key],
          })
        }
      }
      jsPsych.data.addProperties()
    },
  }

  timeline.push(browser_check)

  // Participant information 
  var prolific_id = jsPsych.data.getURLVariable("PROLIFIC_PID")
  var jspsych_id = jsPsych.randomization.randomID(5)
  var participant_id = `${prolific_id}_${jspsych_id}`
  var study_id = jsPsych.data.getURLVariable("STUDY_ID")
  var session_id = jsPsych.data.getURLVariable("SESSION_ID")

  // // Consent form ========================================================
  // const demographics_consent = {
  //     type: jsPsychSurvey,
  //     survey_json: function () {
  //         // Get URL variables
  //         let urlvars = jsPsych.data.urlVariables()

  //         // Logo and title
  //         let text =
  //             "<img src='https://blogs.brighton.ac.uk/sussexwrites/files/2019/06/University-of-Sussex-logo-transparent.png' width='150px' align='right'/><br><br><br><br><br>" +
  //             "<h1>Informed Consent</h1>"

  //         // this part is about specific messages for participants based on the recruitment platform
  //         if (urlvars["exp"] == "surveyswap") {
  //             text +=
  //                 "<p style='color:green;' align='left'><b>Note: You will receive a <i style='color:purple;'>SurveySwap.io completion code</i>  at the end of the experiment.</b></p>"
  //         }

  //         if (jsPsych.data.urlVariables()["exp"] == "prolific") {
  //             text +=
  //                 "<p style='color:green;' align='left'><b>Note: You will receive information regarding your <i style='color:purple;'>Prolific</i> participation at the end of the experiment.</b></p>"
  //         }

  //         if (jsPsych.data.urlVariables()["exp"] == "sona") {
  //             text +=
  //                 "<p style='color:green;' align='left'><b>Note: You will receive a <i style='color:purple;'>Sona completion code</i> at the end of the experiment.</b></p>"
  //         }
  //         // Main Text
  //         text +=
  //             // Overview
  //             "<p align='left'><b>Invitation to Take Part</b><br>" +
  //             "Thank you for considering to take part in this study conducted by Dr Dominique Makowski from the University of Sussex and his team (see contact information below).</p>" +
  //             // Description
  //             "<p align='left'><b>Why have I been invited and what will I do?</b><br>" +
  //             "The goal is to study how <b>new technology impacts human appreciation of art</b>. In this study, you will be shown images of paintings and asked to complete a few questionnaires. " +
  //             "The whole experiment will take you <b style='color:#FF5722;'>~30 min</b> to complete. Please make you sure that you are <b>attentive and in a quiet environment</b>, and that you have time to complete it in one go.</p>" +
  //             // Results and personal information
  //             "<p align='left'><b>What will happen to the results and my personal information?</b><br>" +
  //             "The results of this research may be written into a scientific publication. Your anonymity will be ensured in the way described in the consent information below. <b>Please read this information carefully</b> and then, if you wish to take part, please acknowledge that you have fully understood this sheet, and that you consent to take part in the study as it is described here.</p>" +
  //             "<p align='left'><b>Consent</b><br></p>" +
  //             // Bullet points
  //             "<li align='left'>I understand that by signing below I am agreeing to take part in the University of Sussex research described here, and that I have read and understood this information sheet</li>" +
  //             "<li align='left'>I understand that my participation is entirely voluntary, that I can choose not to participate in part or all of the study, and that I can withdraw at any stage without having to give a reason and without being penalized in any way (e.g., if I am a student, my decision whether or not to take part will not affect my grades).</li>" +
  //             "<li align='left'>I understand that since the study is anonymous, it will be impossible to withdraw my data once I have completed it.</li>" +
  //             "<li align='left'>I understand that my personal data will be used for the purposes of this research study and will be handled in accordance with Data Protection legislation. I understand that the University's Privacy Notice provides further information on how the University uses personal data in its research.</li>" +
  //             "<li align='left'>I understand that my collected data will be stored in a de-identified way. De-identified data may be made publicly available through secured scientific online data repositories.</li>"

  //         // Incentive
  //         if (["surveyswap", "prolific", "sona"].includes(urlvars["exp"])) {
  //             text +=
  //                 "<li align='left'>Please note that <b style='color:#FF5722;'>various checks will be performed to ensure the validity of the data</b>. We reserve the right to withhold credit awards or reimbursement should we detect non-valid responses (e.g., random patterns of answers, instructions not read, ...).</li>"
  //         }

  //         // End
  //         text +=
  //             "<li align='left'>By participating, you agree to follow the instructions and provide honest answers. If you do not wish to participate or if you don't have the time, simply close your browser.</li></p>" +
  //             "<p align='left'><br><sub><sup>For further information about this research, or if you have any concerns, please contact Dr Dominique Makowski (<i style='color:DodgerBlue;'>D.Makowski@sussex.ac.uk</i>) and/or Ana Neves (<i style='color:DodgerBlue;'>A.Neves@sussex.ac.uk</i>). This research has been approved (ER/EB672/2) by the Sciences & Technology Cross-Schools Research Ethics Committee (C-REC) (<i style='color:DodgerBlue;'>crecscitec@sussex.ac.uk</i>). The University of Sussex has insurance in place to cover its legal liabilities in respect of this study.</sup></sub></p>"

  //         // Return Survey
  //         return {
  //             showQuestionNumbers: false,
  //             completeText: "I read, understood, and I consent",
  //             pages: [
  //                 {
  //                     elements: [
  //                         {
  //                             type: "html",
  //                             name: "ConsentForm",
  //                             html: text,
  //                         },
  //                     ],
  //                 },
  //             ],
  //         }
  //     },
  // }

  // timeline.push(demographics_consent)


  // // Pre Questionaires 
  // // Demographics 
  // var instructions1 = { 
  // type: jsPsychHtmlButtonResponse, 
  // stimulus: 
  // "<h1>Welcome!</h1>" + 
  // "<p>Before starting the first task, it is important for us to understand our participants' characteristics, so that our conclusions are scientifically valid.</p>" + 
  // "<p>Let's start with some questions about yourself.</p>", 
  // choices: ["Continue"], 
  // data: { screen: "instructions1" }, 
  // } 
  // timeline.push(instructions1) 

  var participant_info = {
    type: jsPsychSurveyText,
    questions: [
      {
        prompt: "Please enter your age (in years, e.g., '31')",
        name: "age",
        required: true,
      },
      {
        prompt: "Please enter your country of birth (e.g., 'France')",
        name: "nationality",
        required: true,
      },
      {
        prompt: "Please enter your ethnicity (e.g., 'Caucasian')",
        name: "ethnicity",
        required: true,
      },
    ],
    on_finish: function () {
      jsPsych.data.addProperties({
        participant_id: participant_id,
        study_id: study_id,
        session_id: session_id,
      })
    },
    data: {
      screen: "demographics",
    },
  }
  var demographics = {
    type: jsPsychSurveyMultiChoice,
    questions: [
      {
        prompt: "What is your sex?",
        options: ["Male", "Female", "Other", "Prefer not to say"],
        name: "sex",
        required: true,
      },
      {
        prompt: "What is your highest completed education level?",
        options: [
          "University (doctorate)",
          "University (master)",
          "University (bachelor)",
          "High school",
          "Other",
          "Prefer not to say",
        ],
        name: "education",
        required: true,
      },
    ],
    data: {
      screen: "demographics",
    },
  }
  timeline.push(participant_info, demographics)

  // // Save data via DataPipe this goes at end when works
  // // timeline.push({
  // //             type: jsPsychPipe,
  // //             action: "save",
  // //             experiment_id: "DoOfdX2FFR4H", // This is generated in the DataPipe interface
  // //             filename: `${participant_ID}.csv`,
  // //             data_string: () => jsPsych.data.get().csv(),
  // //         })


  //  // Media Literacy Assesment 
  // var instructionsfilm = { 
  // type: jsPsychHtmlButtonResponse, 
  // stimulus: 
  // "<h1>Pre Task Questions 1/2</h1>" + 
  // "<p> Due to the nature of this study, we are interested in your overall consumption, knowledge and expertise on media (TV, Film etc.)</p>" + 
  // "<p>Please read the statements carefully and indicate the extent to which you agree with each statement.</p>", 
  // choices: ["Continue"], 
  // data: { screen: "instructionsfilm" }, 
  // } 
  // timeline.push(instructionsfilm) 

  // // Media Literacy 
  // var likert_scale = [ 
  // "Not at all", 
  // "A Little", 
  // "Somewhat", 
  // "Very", 
  // "Extremely" 
  // ]; 

  // var media_literacy = { 
  // type: jsPsychSurveyLikert, 
  // questions: [ 
  // {prompt: "How much would you say watching films is part of your routine?", name: 'film_routine', labels: likert_scale}, 
  // {prompt: "How much do you enjoy watching films?", name: 'film_enjoyment', labels: likert_scale}, 
  // {prompt: "How confident are you in evaluating the quality of a film?", name: 'film_quality', labels: likert_scale}, 
  // {prompt: "How confident are you in identifying film messages or themes?", name: 'film_identification', labels: likert_scale}, 
  // {prompt: "How confident are you in recognising the emotions a film tries to convey?", name: 'film_empathy', labels: likert_scale}, 
  // ], 
  // data: { 
  // screen: "Pre-screening" 
  // }, 
  // randomize_question_order: true 
  // }; 

  // timeline.push(media_literacy); 

  // // Media professional? 
  // var media_professional = { 
  // type: jsPsychSurveyMultiChoice, 
  // questions: [ 
  // { 
  // prompt: "Do you, or have you ever worked in the media industry (e.g., film, TV, journalism, animation, production)?", 
  // options: ["Yes", "No"], 
  // required: true, 
  // name: 'media_professional' 
  // }, 
  // ], 
  // data: { 
  // screen: "Pre-screening" 
  // } 
  // }; 

  // var media_professional_details = { 
  // type:jsPsychSurveyMultiChoice, 
  // questions: [ 
  // { 
  // prompt: "What area of the media do you work in?", 
  // options:[ 
  // "Editorial",  
  // "Production",  
  // "Other" 
  // ], 
  // name: 'media_area', 
  // required: true 
  // },  
  // { 
  // prompt: "What is your seniority level?", 
  // options: [ 
  // "Entry",  
  // "Junior",  
  // "Mid-level",  
  // "Senior" 
  // ], 
  // name: 'seniority', 
  // required: true 
  // },  
  // ], 
  // data: { 
  // screen: "Pre-screening" 
  // } 
  // }; 

  // timeline.push(media_professional); 

  // // timeline.push({ 
  // // timeline: [media_professional_details], 
  // // conditional_function: function () { 
  // // var last_response = jsPsych.data.get().filter({}).values().pop(); 
  // // if (last_response && last_response.response && last_response.response['media_professional'] === "Yes") { 
  // // return true; 
  // // } else { 
  // // return false; 
  // // } 
  // // } 
  // // }); 


  // // Pre screening Task 2 
  // var instructions2 = { 
  // type: jsPsychHtmlButtonResponse, 
  // stimulus: 
  // "<h1>Pre Task Questions 2/2</h1>" + 
  // "<p>We are also interested in your attitudes towards Artificial Intelligence.</p>" +
  // "<p>By Artificial Intelligence we mean devices that can perform tasks that would usually require human intelligence.</p>" +
  // "<p>Please note that these can be computers, robots or other hardware devices, possibly augmented with sensors or cameras, etc.</p>" +
  // "<p>Please complete the following scale, indicating your response to each item.</p>" +
  // "<p>There are no right or wrong answers. We are interested in your personal views.</p>", 
  // choices: ["Continue"], 
  // data: { screen: "instructions2" } 
  // }; 
  // timeline.push(instructions2) 

  // AI Attitudes GAAIS Scale, Couldn't get BAIT to run
  var likert_scale = [
    "Strongly disagree",
    "Disagree",
    "Somewhat disagree",
    "Neutral",
    "Somewhat agree",
    "Agree",
    "Strongly agree"
  ]
  var BAIT_attitudes = {
    type: jsPsychSurveyLikert,
    questions: [
      { prompt: "Current AI algorithms can generate very realistic images", name: 'BAIT_ImagesRealistic', labels: likert_scale },
      // copy paste from below
      // { prompt: "Artificial intellgience can provide new economic opportunities for this country.", name: 'P2', labels: likert_scale },
      // { prompt: "Organisations use Artificial Intelligence unethically.", name: 'N3', labels: likert_scale },
      // { prompt: "Artificially intelligent systems can help people feel happier.", name: 'P4', labels: likert_scale },
      // { prompt: "I am impressed by what Artifiical Intelligence can do.", name: 'P5', labels: likert_scale },
      // { prompt: "I think artificially intelligent systems make many errors.", name: 'N6', labels: likert_scale },
      // { prompt: "I am interested in using artificially intelligent systems in my daily life.", name: 'P7', labels: likert_scale },
      // { prompt: "I find Artificial Intelligence sinister.", name: 'N8', labels: likert_scale },
      // { prompt: "Artificial Intelligence might take control of people.", name: 'N9', labels: likert_scale },
      // { prompt: "I think artificial intelligence is dangerous.", name: 'N10', labels: likert_scale },
      // { prompt: "Artificial Intelligence can have positive impacts on people's wellbeing.", name: 'P11', labels: likert_scale },
      // { prompt: "Artificial Intelligence is exciting.", name: 'P12', labels: likert_scale },
      // { prompt: "An artificially intellgient agent would be better than an employee in many routine jobs.", name: 'P13', labels: likert_scale },
      // { prompt: "There are many beneficial applications of Artificial Intelligence.", name: 'P14', labels: likert_scale },
      // { prompt: "I shiver with discomfort when I think about the future uses of Artificial Intelligence.", name: 'N15', labels: likert_scale },
      // { prompt: "Artificially intelligent systems can perform better than humans.", name: 'P16', labels: likert_scale },
      // { prompt: "Much of society will benefit from a future full of Artificial Intelligence.", name: 'P17', labels: likert_scale },
      // { prompt: "I would like to use Artificial Intelligence in my own job.", name: 'P18', labels: likert_scale },
      // { prompt: "People like me will suffer if Artifiical Intelligence is used more and more.", name: 'N19', labels: likert_scale },
      // { prompt: "Artificial Intelligence is used to spy on people.", name: 'N20', labels: likert_scale },
    ],
    data: {
      screen: "ai_attitudes"
    },
    randomize_question_order: true
  }
  /* Attitudes towards AI *==========================*/
  // Beliefs about Artificial Images Technology (BAIT)
  // History:
  // - 1.0: BAIT-Original: Items specifically about CGI and artificial media originally in Makowski 2025 (FakeFace)
  // - 2.0: BAIT-14: Validated in FictionEro (with new items + removal of "I think"), where it was mixed with the 6 most
  //   loading items of the positive and negative attitutes dimensions from the General Attitudes towards
  //   Artificial Intelligence Scale (GAAIS; Schepman et al., 2020, 2022)
  // - BAIT-14: Used in FakeNewsValidation
  // - 2.1: BAIT-12: Used in FakeFace2.
  //   - Removed 2 GAAIS items (GAAIS_Negative_9, GAAIS_Positive_7)
  //   - Replaced "Artificial Intelligence" with "AI
  //   - Change display (Analog scale -> Likert scale)
  // - 2.1: BAIT-12: Used in FictionEro2

  const bait_items = {
    //Expectations
    BAIT_ImagesRealistic: "Current AI algorithms can generate very realistic images",
    BAIT_ImagesIssues: "Images of faces or people generated by AI always contain errors and artifacts",
    BAIT_VideosIssues: "Videos generated by AI have obvious problems that make them easy to spot as fake",
    BAIT_VideosRealistic: "Current AI algorithms can generate very realistic videos",
    BAIT_ImitatingReality: "Computer-Generated Images (CGI) are capable of perfectly imitating reality",
    BAIT_EnvironmentReal: "Technology allows the creation of environments that seem just as real as reality",
    BAIT_TextRealistic: "AI assistants can write texts that are indistinguishable from those written by humans",
    BAIT_TextIssues: "Documents and paragraphs written by AI usually read differently compared to Human productions",
    // Attitudes
    BAIT_Dangerous: "AI is dangerous",
    BAIT_Worry: "I am worried about future uses of AI",
    BAIT_Exciting: "AI is exciting",
    BAIT_Benefit: "Much of society will benefit from a future full of AI",
    // Expertise
    BAIT_ExpertAI: "I consider myself an expert in AI technology",
    BAIT_UnderstandingAI: "I have a good understanding of how AI works",
    BAIT_UserAI: "I use AI technology on a regular basis",
    // Discrimination
    BAIT_ImageDistinctionEasy: "I can easily distinguish between real and AI-generated images",
    BAIT_ImageDistinctionBad: "I am bad at telling if images are real or AI-generated",
    BAIT_TextDifferentiation: "I often find it challenging to differentiate between AI-generated and human-written text",
    BAIT_ContentDetection: "I can accurately detect subtle differences between AI from human-created content",
    // Bias
    BAIT_UniqueHuman: "Human creators bring a unique perspective that AI cannot replicate",
    BAIT_InnovativeAI: "AI-generated media can sometimes surpass human creativity in terms of innovation",
    BAIT_ImpersonalAI: "AI-generated content often feels impersonal compared to human-generated media",
    BAIT_InterestingAI: "AI-generated content tends to be more interesting and engaging than human-generated content",
    BAIT_EmotionalHuman: "Human-generated art evokes stronger emotional responses than AI-generated art",
    BAIT_PreferenceHuman: "I am more likely to appreciate content when I know it is created by humans rather than AI",
    BAIT_TrustHuman: "I am more likely to trust content when I know it is created by a human rather than AI",
  }
  timeline.push(BAIT_attitudes)

  //  timeline.push(ai_attitudes);

  // // Experiment Instructions Task 1
  // var Experiment_Instructions = {
  //         type: jsPsychHtmlButtonResponse,
  //         stimulus:
  //             "<h1>Task 1 Instructions</h1>" +
  //             "<div style='text-align: left'>" +
  //             "<p>In this part of the experiment, short clips will be shown on the screen with different labels.</p>" +
  //             "<p>After each clip, you will be asked a series of questions, such as:</p><ul>" +
  //             "<li><p>How emotional did you find the clip?</p></li>" +
  //             "<li><p>How visually pleasing or beautiful was the clip? </p></li>" +
  //             "<div style='text-align: left'>" +
  //             "<p>We are interested in your first impressions. Please respond according to your gut feelings.</p>",
  //             choices: ["Start"],
  //         data: { screen: "Experiment_Instructions" },
  //     }

  //  timeline.push(Experiment_Instructions);

  //Experiment Task 1
  var video_stimuli = [
    { stimulus: ['media/stimuli1.mp4'] },
    { stimulus: ['media/stimuli2.mp4'] },
    { stimulus: ['media/stimuli3.mp4'] },
    { stimulus: ['media/stimuli4.mp4'] },
    { stimulus: ['media/stimuli16.mp4'] },
    { stimulus: ['media/stimuli18.mp4'] }
  ]


  var video_files = video_stimuli.map(item => item.stimulus).flat()

  var preload = {
    type: jsPsychPreload,
    video: video_files
  }

  // timeline.push(preload)

  // Assign labels===============================================================================================================================
  var video_stimuli = jsPsych.randomization.shuffle(video_stimuli)

  // Assign half stimuli to each label
  for (let i = 0; i < video_stimuli.length; i++) {
    video_stimuli[i].label = i < video_stimuli.length / 2 ? "Human" : "AI"
  }

  // Reshuffle after assigning labels
  var video_stimuli = jsPsych.randomization.shuffle(video_stimuli)

  // Label screen
  var fiction_cue = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function () {
      return jsPsych.timelineVariable('label')

      // Displays [object Object]
      // var lbl = jsPsych.timelineVariable("label")
      //     return (
      //         "<div style='font-size:450%; position:fixed; text-align: center; top:50%; bottom:50%; right:20%; left:20%" +
      //         "'><b>" + lbl +
      //         "</b></div>"
      //       )

    },
    trial_duration: 1000,
    choices: ["NO_KEYS"],
    data: { screen: "fiction_cue" },
  }

  // Video screen phase 1
  var video_trial_1 = {
    type: jsPsychVideoKeyboardResponse,
    stimulus: jsPsych.timelineVariable('stimulus'),
    trial_duration: 4000,
    response_allowed_while_playing: false,
    choices: "NO_KEYS",
    width: 1000,
    post_trial_gap: 500,
    data: { screen: "video_phase_1" },
  }


  // Post Viewing Questions 1 
  var likert_scale = [
    "Strongly disagree",
    "-",
    "-",
    "-",
    "-",
    "-",
    "Strongly agree"
  ]

  var likert_scale2 = [
    "Not at all",
    "-",
    "-",
    "-",
    "-",
    "-",
    "Very much"
  ]


  var post_viewing_1 = {
    type: jsPsychSurveyLikert,
    questions: [
      { prompt: "To what extent do you agree that this visual representation is enjoyable?", name: 'enjoyable', labels: likert_scale },
      { prompt: "To what extent do you agree that this visual representation is likable?", name: 'likeable', labels: likert_scale },
      { prompt: "To what extent do you agree that this visual representation is pleasing?", name: 'pleasing', labels: likert_scale },
      { prompt: "To what extent do you agree that this visual representation is nice?", name: 'nice', labels: likert_scale },
      { prompt: "To what extent do you agree that this visual representation is appealing?", name: 'appealing', labels: likert_scale },
      { prompt: "How much are you moved by this image?", name: 'moved', labels: likert_scale2 },
    ],
    data: {
      screen: "post_viewing_1"
    },
    randomize_question_order: false
  }

  var test_procedure_1 = {
    timeline: [fiction_cue, video_trial_1, post_viewing_1],
    timeline_variables: video_stimuli,
    randomize_order: false
  }

  // timeline.push(test_procedure_1)

  // // Experiment Part 2

  // // Experiment Instructions 2
  // var Experiment_Instructions_2 = {
  //         type: jsPsychHtmlButtonResponse,
  //         stimulus:
  //             "<h1>Task 2</h1>" +
  //             "<div style='text-align: left'>" +
  //             "<p>In this part of the experiment, you will be shown each of the clips again.</p>" +
  //             "<p>After each clip, you will be asked to identify to the best of your ability, how confident you are that the clip was AI generated, or human made</p><ul>" +
  //             "<p>Please respond according to your gut feelings.</p>",
  //             choices: ["Start"],
  //         data: { screen: "Experiment_Instructions_2" },
  //     }

  // timeline.push(Experiment_Instructions_2);

  // // Video screen phase 2
  // var video_trial_2 = {
  //   type: jsPsychVideoKeyboardResponse,
  //   stimulus: jsPsych.timelineVariable('stimulus'),
  //   trial_duration: 4000,
  //   response_allowed_while_playing: false,
  //   choices: "NO_KEYS",
  //   width: 1000,
  //   post_trial_gap: 500,
  //   data: { screen: "video_phase_2" }
  // };

  // // Post Viewing Questions 3

  // var likert_scale3 = [  
  // "AI generated",  
  // "-",  
  // "-",  
  // "Not sure",  
  // "-",  
  // "-",  
  // "Human made"  
  // ];  


  // var Participant_labelling_task = {  
  // type: jsPsychSurveyLikert,  
  // questions: [  
  // {prompt: "Please indicate your confidence that the clip was AI generated or human made:", name: 'Confidence in label', labels: likert_scale3},
  // ],  
  // data: {  
  //   screen: "post_viewing_2"  
  // },  
  // randomize_question_order: true  
  // };  

  // var test_procedure_2 = {
  //   timeline: [video_trial_2, Participant_labelling_task],
  //   timeline_variables: video_stimuli,
  //   randomize_order: false 
  // };

  // timeline.push(test_procedure_2);

  // // Post_Questions
  // var Post_Questions ={ 
  // type: jsPsychHtmlButtonResponse, 
  // stimulus: 
  // "<h1> Well done!</h1>" + 
  // "<div class='margin-left-10'>"+ 
  // "<p>Well done for completing the tasks.</p>" + 
  // "<p>You will now be asked some brief questions about your experience in the study.</p>", 
  // choices: ["Continue"], 
  // data: { screen: "Post_Questions" } 
  // } 

  // timeline.push(Post_Questions); 

  // // Overall Experience 
  // var Engagement = { 
  // type: jsPsychSurveyLikert, 
  // questions: [ 
  // { 
  // prompt: "How engaging did you find the tasks overall?", 
  // labels: [ 
  // "Not at all",  
  // "A Little",  
  // "Moderately",  
  // "Very",  
  // "Extremely", 
  // ], 
  // }, 
  // ], 
  // data: { 
  // screen: "Engagement", 
  // }, 
  // } 
  // timeline.push(Engagement); 

  // // Attention
  // var Attention = { 
  // type: jsPsychSurveyLikert, 
  // questions: [ 
  // { 
  // prompt: "Did you feel your attention drift at all during the tasks?", 
  // labels: [ 
  // "Not at all",  
  // "A Little",  
  // "Moderately",  
  // "Very",  
  // "Extremely", 
  // ], 
  // }, 
  // ], 
  // data: { 
  // screen: "Attention", 
  // }, 
  // } 
  // timeline.push(Engagement); 
  // // Suspected Deception 
  // var suspected_deception = { 
  // type: jsPsychSurveyMultiChoice,  
  // questions: [  
  // {  
  // prompt: "Did you suspect that the AI generated labels might have been false?",  
  // options: ["Yes", "No"],  
  // required: true,  
  // name: 'suspected_deception' 
  // }, 
  // ], 
  // data: { 
  // screen: "suspected_deception" 
  // } 
  // }; 

  // var suspected_deception_why = { 
  // type: jsPsychSurveyText, 
  // questions: [ 
  // { 
  // prompt: "What gave it away?", 
  // rows: 7,  
  // columns: 40,  
  // name: "suspected_deception_why", 
  // required: true, 
  // }, 
  // ],  
  // data: { 
  // screen: "suspected_deception" 
  // } 
  // }; 

  // timeline.push(suspected_deception); 
  // timeline.push({ 
  // timeline: [suspected_deception_why], 
  // conditional_function: function () { 
  // var last_response = jsPsych.data.get().filter({}).values().pop(); 
  // if (last_response && last_response.response && last_response.response['suspected_deception'] === "Yes") { 
  // return true; 
  // console.log(last_response) 
  // } else { 
  // return false; 
  // console.log(last_response) 
  // } 
  // } 
  // }); 

  // // Changing Perceptions of AI 
  // var changing_perceptions_ai = { 
  // type: jsPsychSurveyMultiChoice, 
  // questions: [ 
  // { 
  // prompt: "Did participating in this study change how you feel about AI-generated content?", 
  // options: ["Yes", "No"], 
  // required: true, 
  // name: 'changing_perceptions_ai' 
  // }, 
  // ], 
  // data: { 
  // screen: "changing_perceptions_ai" 
  // } 
  // }; 

  // var changing_perceptions_ai_details = { 
  // type: jsPsychSurveyText, 
  // questions: [ 
  // { 
  // prompt: "How did your feelings around AI generated content change?", 
  // rows: 7,  
  // columns: 40,  
  // name: "changing_perceptions_ai_details", 
  // required: true, 
  // },  
  // ], 
  // data: { 
  // screen: "changing_perceptions_ai" 
  // } 
  // }; 

  // timeline.push(changing_perceptions_ai) 

  // timeline.push({ 
  // timeline: [changing_perceptions_ai_details], 
  // conditional_function: function () { 
  // var last_response = jsPsych.data.get().filter({}).values().pop(); 
  // if (last_response && last_response.response && last_response.response['changing_perceptions_ai'] === "Yes") { 
  // return true; 
  // console.log(last_response) 
  // } else { 
  // return false; 
  // console.log(last_response) 
  // } 
  // } 
  // }); 

  // //Emotional Impact of Disclosure 
  // var emotional_impact_disclosure = { 
  // type: jsPsychSurveyMultiChoice, 
  // questions: [ 
  // { 
  // prompt: "Did seeing AI/human labels affect you emotionally in any way?", 
  // options: ["Yes", "No"], 
  // required: true, 
  // name: 'emotional_impact_disclosure' 
  // }, 
  // ], 
  // data: { 
  // screen: "emotional_impact_disclosure" 
  // } 
  // }; 

  // var emotional_impact_disclosure_details = { 
  // type: jsPsychSurveyText, 
  // questions: [ 
  // { 
  // prompt: "How did the disclosure of AI / Human labels affect you?", 
  // rows: 7,  
  // columns: 40,  
  // name: "emotional_impact_disclosure_details", 
  // required: true, 
  // },  
  // ], 
  // data: { 
  // screen: "emotional_impact_disclosure" 
  // } 
  // }; 

  // timeline.push(emotional_impact_disclosure) 

  // timeline.push({ 
  // timeline: [emotional_impact_disclosure_details], 
  // conditional_function: function () { 
  // var last_response = jsPsych.data.get().filter({}).values().pop(); 
  // if (last_response && last_response.response && last_response.response['emotional_impact_disclosure'] === "Yes") { 
  // return true; 
  // console.log(last_response) 
  // } else { 
  // return false; 
  // console.log(last_response) 
  // } 
  // } 
  // }); 

  // var experience_details = { 
  // type: jsPsychSurveyText, 
  // questions: [ 
  // { 
  // prompt: "Is there anything else you would like to share about your experience in this study?", 
  // rows: 7,  
  // columns: 40,  
  // name: "experience_details", 
  // required: true, 
  // }, 
  // ],  
  // data: { 
  // screen: "experience_details" 
  // } 
  // }; 

  // timeline.push(experience_details); 

  // Save data via DataPipe
  timeline.push({
    type: jsPsychPipe,
    action: "save",
    experiment_id: "ICV4Etaleueb", // This in generated in the DataPipe interface
    filename: `${participant_ID}.csv`,
    data_string: () => jsPsych.data.get().csv(),
  })


  // // Debrief 
  // var Debrief ={ 
  // type: jsPsychHtmlButtonResponse, 
  // stimulus: 
  // "<h1>Thank you!</h1>" + 
  // "<div style='font-size:10px';><h1></br></br>Study on Neuroaesthetics</h1></div>" + 
  // "<div class='margin-left-10'>"+ 
  // "<p>Thank you for participating in this study.</p>" + 
  // "<p>The video labels (e.g., AI-generated or Human-made) were randomly assigned to all the clips in order to assess how disclosure of AI use influences viewersâ€™ perceptions of cinema relevant stimuli.</p>" + 
  // "<p>This study is designed to explore how people engage with visual media depending on what they are told about its origin.</p>" + 
  // "<p>All of the clips were in fact created by professional filmmakers and no AI was used</p>" + 
  // "<p>Without this deception, it would not be possible to isolate the psychological effects of disclosure from the actual qualities of AI-generated material.</p>" + 
  // "<p>Your participation in this research will be kept completely confidential. Your responses are anonymous and IP addresses will not be collected to guarantee complete anonymity.</p>", 
  // choices: ["The End."], 
  // data: { screen: "Debrief" } 
  // } 

  // timeline.push(Debrief); 
  jsPsych.run(timeline); 
</script>

</html>